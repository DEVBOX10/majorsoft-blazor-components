export function init(t,i,u,f,e){if(t&&i&&u){r(n,i,u,f,e);let s=!1,c=document.querySelectorAll("head > script");if(c.forEach(n=>{if(n.getAttribute("src").startsWith("https://maps.googleapis.com/maps/api/js?key=")){s=!0;return}}),!s){let h=document.createElement("script");h.src="https://polyfill.io/v3/polyfill.min.js?features=default";document.head.appendChild(h);let l="https://maps.googleapis.com/maps/api/js?key="+t+"&callback=initGoogleMaps&libraries=&v=weekly",o=document.createElement("script");o.src=l;o.defer=!0;document.head.appendChild(o)}}}function r(n,t,i,r,u){for(let i=0;i<n.length;i++)if(n[i].key===t)return;!1||n.push({key:t,value:{ref:i,map:null,bgColor:r,ctrSize:u}})}function u(n,t){for(let i=0;i<n.length;i++)if(n[i].key===t){n.splice(i,1);break}}function t(n,t){for(let i=0;i<n.length;i++)if(n[i].key===t)return n[i].value}export function setCenterCoords(i,r,u){if(i){let f=t(n,i);f&&f.map&&f.map.setCenter({lat:r,lng:u})}}export function setCenterAddress(r,u){if(r){let f=t(n,r);f&&f.map&&i(u,function(n){n&&f.map.setCenter(n[0].geometry.location)})}}export function panToCoords(i,r,u){if(i){let f=t(n,i);f&&f.map&&f.map.panTo({lat:r,lng:u})}}export function panToAddress(r,u){if(r){let f=t(n,r);f&&f.map&&i(u,function(n){n&&f.map.panTo(n[0].geometry.location)})}}export function setZoom(i,r){if(i){let u=t(n,i);u&&u.map&&u.map.setZoom(r)}}export function setMapType(i,r){if(i){let u=t(n,i);u&&u.map&&u.map.setMapTypeId(r)}}export function setHeading(i,r){if(i){let u=t(n,i);u&&u.map&&u.map.setHeading(r)}}export function setTilt(i,r){if(i){let u=t(n,i);u&&u.map&&u.map.setTilt(r)}}export function setClickableIcons(i,r){if(i){let u=t(n,i);u&&u.map&&u.map.setClickableIcons(r)}}export function setOptions(i,r){if(i){let u=t(n,i);u&&u.map&&u.map.setOptions(r)}}export function resizeMap(i){if(i){let r=t(n,i);r&&r.map&&google.maps.event.trigger(r.map,"resize")}}export function getAddressCoordinates(r,u){i(u,function(i){if(i){let u=t(n,r);u&&u.map&&u.ref.invokeMethodAsync("AddressSearch",i)}})}function i(n,t){let i=new google.maps.Geocoder;i.geocode({address:n},function(n,i){i==google.maps.GeocoderStatus.OK&&t(n)})}export function dispose(i){if(i){let r=t(n,i);r.map=null;r.ref=null;u(i)}}window.initGoogleMaps=()=>{for(let i=0;i<n.length;i++){let f=n[i].key,e=n[i].value,r=new google.maps.Map(document.getElementById(f),{backgroundColor:e.bgColor,controlSize:e.ctrSize});r.elementId=f;n[i].value.map=r;function u(i,u){if(r&&r.elementId&&i){let f=t(n,r.elementId);if(f){let n=i.latLng.toJSON(),t={Latitude:n.lat,Longitude:n.lng};f.ref.invokeMethodAsync(u,t)}}}r.addListener("click",n=>{u(n,"MapClicked")});r.addListener("dblclick",n=>{u(n,"MapDoubleClicked")});r.addListener("contextmenu",n=>{u(n,"MapContextMenu")});r.addListener("mouseup",n=>{u(n,"MapMouseUp")});r.addListener("mousedown",n=>{u(n,"MapMouseDown")});r.addListener("mousemove",n=>{u(n,"MapMouseMove")});r.addListener("mouseover",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapMouseOver")}});r.addListener("mouseout",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapMouseOut")}});r.addListener("center_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);if(i&&r.getCenter()){let n=r.getCenter().toJSON(),t={Latitude:n.lat,Longitude:n.lng};i.ref.invokeMethodAsync("MapCenterChanged",t)}}});r.addListener("zoom_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapZoomChanged",r.getZoom())}});r.addListener("maptypeid_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapTypeIdChanged",r.getMapTypeId())}});r.addListener("heading_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapHeadingChanged",r.getHeading())}});r.addListener("tilt_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapTiltChanged",r.getTilt())}});r.addListener("bounds_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapBoundsChanged")}});r.addListener("projection_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapProjectionChanged")}});r.addListener("draggable_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapDraggableChanged")}});r.addListener("streetview_changed",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapStreetviewChanged")}});r.addListener("drag",()=>{if(r&&r.elementId){let i=t(n,r.elementId);if(i&&r.getCenter()){let n=r.getCenter().toJSON(),t={Latitude:n.lat,Longitude:n.lng};i.ref.invokeMethodAsync("MapDrag",t)}}});r.addListener("dragend",()=>{if(r&&r.elementId){let i=t(n,r.elementId);if(i&&r.getCenter()){let n=r.getCenter().toJSON(),t={Latitude:n.lat,Longitude:n.lng};i.ref.invokeMethodAsync("MapDragEnd",t)}}});r.addListener("dragstart",()=>{if(r&&r.elementId){let i=t(n,r.elementId);if(i&&r.getCenter()){let n=r.getCenter().toJSON(),t={Latitude:n.lat,Longitude:n.lng};i.ref.invokeMethodAsync("MapDragStart",t)}}});r.addListener("resize",()=>{if(r&&r.elementId){let i=t(n,r.elementId);if(i){let n={Width:r.getDiv().offsetWidth,Height:r.getDiv().offsetHeight};i.ref.invokeMethodAsync("MapResized",n)}}});r.addListener("tilesloaded",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapTilesLoaded")}});r.addListener("idle",()=>{if(r&&r.elementId){let i=t(n,r.elementId);i&&i.ref.invokeMethodAsync("MapIdle")}});n[i].value.ref.invokeMethodAsync("MapInitialized",f)}};let n=[];